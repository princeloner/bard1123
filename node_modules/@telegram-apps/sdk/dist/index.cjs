"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("@telegram-apps/bridge"),l=require("@telegram-apps/toolkit"),w=require("@telegram-apps/navigation"),R=require("@telegram-apps/signals"),P=require("error-kid"),b=require("better-promises"),c=require("valibot"),g=require("@telegram-apps/transformers");function Q(e,t){return R.signal(e,t)}function p(e,t){return R.computed(e,t)}function d(e,t){const o=Q(e,t);return[o,p(o)]}let Yo=!1;const[rt,el]=l.createLogger("SDK",{bgColor:"forestgreen",textColor:"white",shouldLog(){return Yo}});function _i(e){Yo=e,n.setDebug(e)}const Xe=Q(0),Xo=Q(n.postEvent),[Vo,ie]=d({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),B=p(()=>ie().tgWebAppVersion);function Zo(e){e||(e={});const{postEvent:t}=e,o=e.launchParams||n.retrieveLaunchParams();Vo.set(o),Xo.set(typeof t=="function"?t:n.createPostEvent(o.tgWebAppVersion)),rt(!1,"The package was configured. Launch params:",Vo())}function mt(){return Xe.set(Xe()+1),Xe().toString()}function N(e,t,o){return n.invokeCustomMethod(e,t,mt(),{...o||{},postEvent:u})}const _=(e,t,o)=>(o||(o={}),o.postEvent||(o.postEvent=u),n.request(e,t,o)),u=(e,t)=>Xo()(e,t);function y(e){return p(()=>n.supports(e,B()))}function H(e){return[e]}const[ge,fi]=P.errorClass("CSSVarsBoundError","CSS variables are already bound"),[_t,bi]=P.errorClass("NotAvailableError",H),[gi,hi]=P.errorClass("InvalidEnvError",H),[z,Ei]=P.errorClass("FunctionNotAvailableError",H),[$,Si]=P.errorClass("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[Jo,Ci]=P.errorClass("ConcurrentCallError",H),[er,wi]=P.errorClass("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[ft,Ai]=P.errorClass("AccessDeniedError",H),[tr,$i]=P.errorClass("FullscreenFailedError",H),[or,Pi]=P.errorClass("ShareMessageError",H),[he,yi]=P.errorClass("UnknownThemeParamsKeyError",e=>[`Unknown theme params key passed: ${e}`]);function nt(){return typeof window>"u"}function m(e,t,o){o||(o={});const{isSupported:r,isMounted:s,isMounting:a,component:i,supports:f}=o||{},X=`${i?`${i}.`:""}${e}()`,v=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function Z(C){if(f){const h=f[C];return n.supports(h[0],h[1],B())}return!0}function T(){if(!v)return;function C(G){return typeof G=="function"?G():n.supports(G,B())?void 0:`it is unsupported in Mini Apps version ${B()}`}const h=Array.isArray(v)?v:v.any,I=h.map(C).filter(Boolean);return Array.isArray(v)?I[0]:I.length===h.length?I[I.length-1]:void 0}function di(...C){for(const h in f)if(f[h][2](...C)&&!Z(h))return`option ${h} is not supported in Mini Apps version ${B()}`}let pe;if(f){pe={};for(const C in f)pe[C]=p(()=>Z(C))}const Oo=p(()=>!T()),ko=p(()=>B()!=="0.0"),qo=p(()=>!s||s()),Io=p(()=>n.isTMA()&&!nt()&&ko()&&Oo()&&qo());return Object.assign((...C)=>{const h=`Unable to call the ${X} ${i?"method":"function"}:`;if(nt()||!n.isTMA())throw new z(`${h} it can't be called outside Mini Apps`);if(!ko())throw new z(`${h} the SDK was not initialized. Use the SDK init() function`);const I=T();if(I)throw new z(`${h} ${I}`);const G=di(...C);if(G)throw new z(`${h} ${G}`);if(!qo()){const mi=a&&a()?"mounting. Wait for the mount completion":`unmounted. Use the ${i}.mount() method`;throw new z(`${h} the component is ${mi}`)}return t(...C)},t,{isAvailable:Io,ifAvailable(...C){return Io()?[!0,t(...C)]:[!1]}},v?{isSupported:Oo}:{},pe?{supports:pe}:{})}function Ee(e,t){return t||(t={}),(o,r,s,a)=>m(o,r,{...t,isSupported:s||t.isSupported,supports:a,component:e})}function O(e,t,o){return Ee(e,{isSupported:o,isMounted:t})}function A(e,t){return Ee(e,{isSupported:t})}const Se="web_app_setup_back_button",rr="back_button_pressed",Ce="backButton",[jo,nr]=d(!1),[de,sr]=d(!1),ar=y(Se),ir=O(Ce,de,Se),bt=A(Ce,Se),cr=ir("hide",()=>{gt(!1)}),ur=bt("mount",()=>{de()||(gt(w.isPageReload()&&l.getStorageValue(Ce)||!1),de.set(!0))});function gt(e){e!==jo()&&(u(Se,{is_visible:e}),l.setStorageValue(Ce,e),jo.set(e))}const lr=bt("onClick",e=>n.on(rr,e)),pr=bt("offClick",e=>{n.off(rr,e)}),dr=ir("show",()=>{gt(!0)});function mr(){de.set(!1)}const Mi=Object.freeze(Object.defineProperty({__proto__:null,hide:cr,isMounted:sr,isSupported:ar,isVisible:nr,mount:ur,offClick:pr,onClick:lr,show:dr,unmount:mr},Symbol.toStringTag,{value:"Module"}));function S(e,t,o){o||(o={});const{promise:r,error:s}=o,[a,i]=r?[r,p(r)]:d(),[f,X]=s?[s,p(s)]:d();return[Object.assign((...v)=>{if(a()){const T=new Jo(t);return f.set(T),b.AbortablePromise.reject(T)}R.batch(()=>{a.set(e(...v)),f.set(void 0)});let Z;return a().catch(T=>{throw Z=T,T}).finally(()=>{R.batch(()=>{a.set(void 0),f.set(Z)})})},e),[a,i,p(()=>!!a())],[f,X]]}function ce(e,t,o){const[r,...s]=S(t,`The ${e} component is already mounting`),[a,i]=d(!1);return[(...f)=>a()?b.AbortablePromise.resolve():r(...f).then(X=>{R.batch(()=>{a.set(!0),o(X)})}),...s,[a,i]]}const[ht,_r]=d({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),fr=p(()=>ht().available),Ro="web_app_biometry_get_info",br=m("requestBiometry",e=>_(Ro,"biometry_info_received",e),{isSupported:Ro});function Et(e){if(!b.isCancelledError(e))throw e}function K(e){const t=e();t&&t.catch(Et).cancel()}const oe="biometry",we="web_app_biometry_request_auth",St="biometry_info_received",gr=e=>{Ae(Ct(e))};function hr(){throw new _t("Biometry is not available")}function Ct(e){let t=!1,o=!1,r="",s=!1,a="",i=!1;return e.available&&(t=!0,o=e.token_saved,r=e.device_id,s=e.access_requested,a=e.type,i=e.access_granted),{available:t,tokenSaved:o,deviceId:r,type:a,accessGranted:i,accessRequested:s}}const Er=y(we),[vi,Ti,Bi,Sr]=ce(oe,e=>{const t=w.isPageReload()&&l.getStorageValue(oe);return t?b.AbortablePromise.resolve(t):br({abortSignal:e}).then(Ct)},e=>{n.on(St,gr),Ae(e)}),Cr=A(oe,we),wt=O(oe,Sr[0],we),wr=Cr("mount",vi),[,At,Ar]=Ti,[,$r]=Bi,[Oi,Pr]=Sr,[ki,qi,Ii]=S(e=>b.AbortablePromise.fn(async t=>{const o=ht();o.available||hr();const r=await _(we,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return typeof s=="string"&&Ae({...o,token:s}),r},e),"Biometry authentication is already in progress"),yr=wt("authenticate",ki),[,$t,Mr]=qi,[,vr]=Ii,Tr=Cr("openSettings",()=>{u("web_app_biometry_open_settings")}),[Vi,ji,Ri]=S(e=>b.AbortablePromise.fn(async t=>{const o=await _("web_app_biometry_request_access",St,{...e,...t,params:{reason:(e||{}).reason||""}}).then(Ct);return o.available||hr(),Ae(o),o.accessGranted},e),"Biometry access request is already in progress"),Br=wt("requestAccess",Vi),[,Pt,Or]=ji,[,kr]=Ri;function Ae(e){ht.set(e),l.setStorageValue(oe,e)}function qr(){[$t,Pt,At].forEach(K),n.off(St,gr),Oi.set(!1)}const Ir=wt("updateToken",e=>(e||(e={}),_("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status))),xi=Object.freeze(Object.defineProperty({__proto__:null,authError:vr,authPromise:$t,authenticate:yr,isAuthenticating:Mr,isAvailable:fr,isMounted:Pr,isMounting:Ar,isRequestingAccess:Or,isSupported:Er,mount:wr,mountError:$r,mountPromise:At,openSettings:Tr,requestAccess:Br,requestAccessError:kr,requestAccessPromise:Pt,state:_r,unmount:qr,updateToken:Ir},Symbol.toStringTag,{value:"Module"}));function $e(e,t){return Ee(e,{isMounted:t})}const k=Ee,Pe="closingBehavior",[xo,Vr]=d(!1),[st,yt]=d(!1),jr=$e(Pe,yt),Ni=k(Pe),Rr=jr("disableConfirmation",()=>{Mt(!1)}),xr=jr("enableConfirmation",()=>{Mt(!0)}),Nr=Ni("mount",()=>{st()||(Mt(w.isPageReload()&&l.getStorageValue(Pe)||!1),st.set(!0))});function Mt(e){e!==xo()&&(u("web_app_setup_closing_behavior",{need_confirmation:e}),l.setStorageValue(Pe,e),xo.set(e))}function Hr(){st.set(!1)}const Hi=Object.freeze(Object.defineProperty({__proto__:null,disableConfirmation:Rr,enableConfirmation:xr,isConfirmationEnabled:Vr,isMounted:yt,mount:Nr,unmount:Hr},Symbol.toStringTag,{value:"Module"})),Dr="web_app_invoke_custom_method",ue=A("cloudStorage",Dr),Lr=y(Dr),vt=ue("deleteItem",(e,t)=>{const o=Array.isArray(e)?e:[e];return o.length?N("deleteStorageValues",{keys:o},t).then():b.AbortablePromise.resolve()});function Di(e,t){const o=Array.isArray(e)?e:[e];return o.length?N("getStorageValues",{keys:o},t).then(r=>{const s={...o.reduce((a,i)=>(a[i]="",a),{}),...c.parse(c.record(c.string(),c.string()),r)};return typeof e=="string"?s[e]:s}):b.AbortablePromise.resolve(Array.isArray(e)?{}:"")}const Fr=ue("getItem",Di),Tt=ue("getKeys",e=>N("getStorageKeys",{},e).then(t=>c.parse(c.array(c.string()),t))),Ur=ue("setItem",(e,t,o)=>N("saveStorageValue",{key:e,value:t},o).then()),Li=ue("clear",e=>Tt(e).then(vt)),Fi=Object.freeze(Object.defineProperty({__proto__:null,clear:Li,deleteItem:vt,getItem:Fr,getKeys:Tt,isSupported:Lr,setItem:Ur},Symbol.toStringTag,{value:"Module"})),le="web_app_trigger_haptic_feedback",Bt=A("hapticFeedback",le),Gr=y(le),zr=Bt("impactOccurred",e=>{u(le,{type:"impact",impact_style:e})}),Wr=Bt("notificationOccurred",e=>{u(le,{type:"notification",notification_type:e})}),Qr=Bt("selectionChanged",()=>{u(le,{type:"selection_change"})}),Ui=Object.freeze(Object.defineProperty({__proto__:null,impactOccurred:zr,isSupported:Gr,notificationOccurred:Wr,selectionChanged:Qr},Symbol.toStringTag,{value:"Module"})),[Kr,Yr]=d(void 0);function M(e){return p(()=>{const t=Kr();return t?t[e]:void 0})}const Ot=M("auth_date"),kt=M("can_send_after"),Xr=p(()=>{const e=Ot(),t=kt();return t&&e?new Date(e.getTime()+t*1e3):void 0}),Zr=M("chat"),Jr=M("chat_type"),en=M("chat_instance"),tn=M("hash"),on=M("query_id"),[Gi,rn]=d(),nn=M("receiver");function sn(){const e=n.retrieveLaunchParams();Kr.set(e.tgWebAppData),Gi.set(n.retrieveRawInitData())}const an=M("start_param"),cn=M("user"),zi=Object.freeze(Object.defineProperty({__proto__:null,authDate:Ot,canSendAfter:kt,canSendAfterDate:Xr,chat:Zr,chatInstance:en,chatType:Jr,hash:tn,queryId:on,raw:rn,receiver:nn,restore:sn,startParam:an,state:Yr,user:cn},Symbol.toStringTag,{value:"Module"})),qt="web_app_open_invoice",Wi=A("invoice",qt),un=y(qt);function Qi(e,t,o){let r;if(t==="url"){const{hostname:s,pathname:a}=new URL(e,window.location.href);if(s!=="t.me")throw new $(`Link has unexpected hostname: ${s}`);const i=a.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new $('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=i}else r=e,o=t;return _(qt,"invoice_closed",{...o,params:{slug:r},capture:s=>r===s.slug}).then(s=>s.status)}const[Ki,Yi,Xi]=S(Qi,"Invoice is already opened"),ln=Wi("open",Ki),[,pn,dn]=Yi,[,mn]=Xi,Zi=Object.freeze(Object.defineProperty({__proto__:null,isOpened:dn,isSupported:un,open:ln,openError:mn,openPromise:pn},Symbol.toStringTag,{value:"Module"})),J="locationManager",It="web_app_check_location",No="web_app_open_location_settings",me=Q({available:!1,accessGranted:!1,accessRequested:!1});function Vt(e){return p(()=>me()[e])}const _n=y(It),fn=Vt("available"),bn=Vt("accessGranted"),gn=Vt("accessRequested");function Ji(e){let t=!1,o,r;return e.available&&(t=!0,o=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:o||!1}}const[ec,tc,oc,hn]=ce(J,e=>{const t=w.isPageReload()&&l.getStorageValue(J);return t?b.AbortablePromise.resolve(t):_("web_app_check_location","location_checked",e).then(Ji)},e=>{me.set(e),l.setStorageValue(J,e)}),En=A(J,It),rc=O(J,hn[0],It),Sn=En("mount",ec),[,Cn,wn]=tc,[,An]=oc,[nc,$n]=hn,[sc,ac,ic]=S(e=>_("web_app_request_location","location_requested",e).then(t=>{if(!t.available)throw me.set({...me(),available:!1}),new _t("Location data tracking is not available");const{available:o,...r}=t;return r}),"Location request is currently in progress"),Pn=rc("requestLocation",sc),[,jt,yn]=ac,[,Mn]=ic,vn=En("openSettings",()=>{u(No)},No);function Tn(){K(jt),nc.set(!1)}const cc=Object.freeze(Object.defineProperty({__proto__:null,isAccessGranted:bn,isAccessRequested:gn,isAvailable:fn,isMounted:$n,isMounting:wn,isRequestingLocation:yn,isSupported:_n,mount:Sn,mountError:An,mountPromise:Cn,openSettings:vn,requestLocation:Pn,requestLocationError:Mn,requestLocationPromise:jt,unmount:Tn},Symbol.toStringTag,{value:"Module"}));function Rt(e){const t={};for(const o in e){const r=e[o];r!==void 0&&(t[o]=r)}return t}function xt(e){const t=g.toRGB(e);return Math.sqrt([.299,.587,.114].reduce((o,r,s)=>{const a=parseInt(t.slice(1+s*2,1+(s+1)*2),16);return o+a*a*r},0))<120}const[Ze,Bn]=d(!1),[j,D]=d({});function E(e){return p(()=>j()[e])}const On=E("accent_text_color"),Nt=E("bg_color"),ye=E("button_color"),Ht=E("button_text_color"),kn=E("bottom_bar_bg_color"),qn=E("destructive_text_color"),In=E("header_bg_color"),Vn=E("hint_color"),jn=p(()=>{const e=Nt();return!e||xt(e)}),Rn=E("link_color"),Dt=E("secondary_bg_color"),xn=E("section_bg_color"),Nn=E("section_header_text_color"),Hn=E("section_separator_color"),Dn=E("subtitle_text_color"),Ln=E("text_color");function L(e){return p(()=>Me()[e])}const ee=Q({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),Me=p(()=>{const e=ee();return{...e,backgroundColor:e.backgroundColor||ye()||"#2481cc",textColor:e.textColor||Ht()||"#ffffff"}}),[at,Lt]=d(!1),Fn=L("backgroundColor"),Un=L("hasShineEffect"),Gn=L("isEnabled"),zn=L("isLoaderVisible"),Wn=L("isVisible"),Qn=L("text"),Kn=L("textColor"),uc="web_app_setup_main_button",Yn="main_button_pressed",ve="mainButton",Ft=k(ve),lc=$e(ve,Lt),Xn=Ft("mount",()=>{if(!at()){const e=w.isPageReload()&&l.getStorageValue(ve);e&&ee.set(e),at.set(!0)}}),Zn=Ft("onClick",e=>n.on(Yn,e)),Jn=Ft("offClick",e=>{n.off(Yn,e)}),es=lc("setParams",e=>{ee.set({...ee(),...Rt(e)}),l.setStorageValue(ve,ee());const t=Me();t.text&&u(uc,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function ts(){at.set(!1)}const pc=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:Fn,hasShineEffect:Un,isEnabled:Gn,isLoaderVisible:zn,isMounted:Lt,isVisible:Wn,mount:Xn,offClick:Jn,onClick:Zn,setParams:es,state:Me,text:Qn,textColor:Kn,unmount:ts},Symbol.toStringTag,{value:"Module"}));function Ut(e,t){document.documentElement.style.setProperty(e,t)}function Gt(e){document.documentElement.style.removeProperty(e)}const W="themeParams",zt="theme_changed",os=k(W),Wt=({theme_params:e})=>{j.set(e),l.setStorageValue(W,e)},[dc,rs,mc,ns]=ce(W,e=>b.AbortablePromise.resolve(w.isPageReload()&&l.getStorageValue(W)||ie().tgWebAppThemeParams||{}),e=>{n.on(zt,Wt),j.set(e)}),_c=$e(W,ns[0]),ss=_c("bindCssVars",e=>{if(Ze())throw new ge;e||(e=r=>`--tg-theme-${l.snakeToKebab(r)}`);function t(r){Object.entries(j()).forEach(([s,a])=>{a&&r(s,a)})}function o(){t((r,s)=>{Ut(e(r),s)})}return o(),j.sub(o),Ze.set(!0),()=>{t(Gt),j.unsub(o),Ze.set(!1)}}),Qt=os("mount",dc),as=rs[2],Kt=rs[1],is=mc[1],[it,cs]=ns,Yt=os("mountSync",()=>{if(!it()){const e=w.isPageReload()&&l.getStorageValue(W)||ie().tgWebAppThemeParams||{};n.on(zt,Wt),R.batch(()=>{j.set(e),it.set(!0)})}});function us(){K(Kt),n.off(zt,Wt),it.set(!1)}function ls(e){return p(()=>Te(e()))}function Te(e){return g.isRGB(e)?e:D()[e]}const[re,ps]=d("bg_color"),Be=ls(re),[ne,ds]=d("bottom_bar_bg_color"),Oe=p(()=>{const e=ne();return g.isRGB(e)?e:D()[e]||Dt()}),[se,ms]=d("bg_color"),Xt=ls(se),[Je,_s]=d(!1),fs=p(()=>{const e=Be();return e?xt(e):!1}),[ke,bs]=d(!0),Zt=p(()=>({backgroundColor:re(),bottomBarColor:ne(),headerColor:se(),isActive:ke()})),fc=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:On,backgroundColor:Nt,bindCssVars:ss,bottomBarBgColor:kn,buttonColor:ye,buttonTextColor:Ht,destructiveTextColor:qn,headerBackgroundColor:In,hintColor:Vn,isCssVarsBound:Bn,isDark:jn,isMounted:cs,isMounting:as,linkColor:Rn,mount:Qt,mountError:is,mountPromise:Kt,mountSync:Yt,secondaryBackgroundColor:Dt,sectionBackgroundColor:xn,sectionHeaderTextColor:Nn,sectionSeparatorColor:Hn,state:D,subtitleTextColor:Dn,textColor:Ln,unmount:us},Symbol.toStringTag,{value:"Module"})),_e="web_app_set_background_color",fe="web_app_set_bottom_bar_color",V="web_app_set_header_color",Jt="visibility_changed",x="miniApp",eo={any:[_e,fe,V]},gs=p(()=>eo.any.some(e=>n.supports(e,B()))),to=e=>{ke.set(e.is_visible),Ie()},oo=e=>{[[se,V],[re,_e],[ne,fe]].forEach(([t,o])=>{const r=t();if(!g.isRGB(r)&&(o!==V||r!=="bg_color"&&r!=="secondary_bg_color")){const s=e[r];s&&u(o,{color:s})}})},[bc,hs,gc,Es]=ce(x,e=>Qt(e).then(()=>w.isPageReload()&&l.getStorageValue(x)||void 0),e=>{Ve.ifAvailable(e?e.backgroundColor:"bg_color"),je.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Re.ifAvailable(e?e.headerColor:"bg_color"),ke.set(e?e.isActive:!0),n.on(Jt,to),D.sub(oo)}),Ss=k(x),Cs=A(x,eo),qe=O(x,Es[0],eo),ws=qe("bindCssVars",e=>{if(Je())throw new ge;const[t,o]=l.createCbCollector();function r(s,a){function i(){Ut(s,a()||null)}i(),t(a.sub(i),Gt.bind(null,s))}return e||(e=s=>`--tg-${l.camelToKebab(s)}`),r(e("bgColor"),Be),r(e("bottomBarColor"),Oe),r(e("headerColor"),Xt),t(()=>{Je.set(!1)}),Je.set(!0),o}),As=Ss("close",e=>{u("web_app_close",{return_back:e})}),$s=Cs("mount",bc),Ps=hs[2],ro=hs[1],ys=gc[1],[ct,Ms]=Es,vs=Cs("mountSync",()=>{if(!ct()){Yt();const e=w.isPageReload()&&l.getStorageValue(x)||void 0;Ve.ifAvailable(e?e.backgroundColor:"bg_color"),je.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Re.ifAvailable(e?e.headerColor:"bg_color"),n.on(Jt,to),D.sub(oo),R.batch(()=>{ke.set(e?e.isActive:!0),ct.set(!0)})}}),Ts=Ss("ready",()=>{u("web_app_ready")});function Ie(){l.setStorageValue(x,Zt())}const Ve=qe("setBackgroundColor",e=>{if(e===re())return;const t=Te(e);if(!t)throw new he(e);u(_e,{color:t}),re.set(e),Ie()},_e),je=qe("setBottomBarColor",e=>{if(e===ne())return;const t=Te(e);if(!t)throw new he(e);u(fe,{color:t}),ne.set(e),Ie()},fe),Re=qe("setHeaderColor",e=>{if(e!==se()){if(e==="bg_color"||e==="secondary_bg_color")u(V,{color_key:e});else{const t=Te(e);if(!t)throw new he(e);u(V,{color:t})}se.set(e),Ie()}},V,{rgb:[V,"color",g.isRGB]});function Bs(){K(ro),n.off(Jt,to),D.unsub(oo),ct.set(!1)}const hc=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:ps,backgroundColorRGB:Be,bindCssVars:ws,bottomBarColor:ds,bottomBarColorRGB:Oe,close:As,headerColor:ms,headerColorRGB:Xt,isActive:bs,isCssVarsBound:_s,isDark:fs,isMounted:Ms,isMounting:Ps,isSupported:gs,mount:$s,mountError:ys,mountPromise:ro,mountSync:vs,ready:Ts,setBackgroundColor:Ve,setBottomBarColor:je,setHeaderColor:Re,state:Zt,unmount:Bs},Symbol.toStringTag,{value:"Module"}));function Ec(e){const t=e.message.trim(),o=(e.title||"").trim(),r=e.buttons||[];if(o.length>64)throw new $(`Invalid title: ${o}`);if(!t||t.length>256)throw new $(`Invalid message: ${t}`);if(r.length>3)throw new $(`Invalid buttons count: ${r.length}`);return{title:o,message:t,buttons:r.length?r.map((s,a)=>{const i=s.id||"";if(i.length>64)throw new $(`Button with index ${a} has invalid id: ${i}`);if(!s.type||s.type==="default"||s.type==="destructive"){const f=s.text.trim();if(!f||f.length>64)throw new $(`Button with index ${a} has invalid text: ${f}`);return{type:s.type,text:f,id:i}}return{type:s.type,id:i}}):[{type:"close",id:""}]}}const no="web_app_open_popup",Os=A("popup",no),ks=y(no),[qs,so,Is]=S(e=>_(no,"popup_closed",{...e,params:Ec(e)}).then(({button_id:t})=>t===void 0?null:t),"A popup is already opened"),Vs=Os("open",qs),js=so[1],Rs=so[2],xs=Is[1],Ns=Os("show",qs),[,Hs,Ds]=so,[,Ls]=Is,Sc=Object.freeze(Object.defineProperty({__proto__:null,isOpened:Rs,isShown:Ds,isSupported:ks,open:Vs,openError:xs,openPromise:js,show:Ns,showError:Ls,showPromise:Hs},Symbol.toStringTag,{value:"Module"})),Fs="web_app_close_scan_qr_popup",ao="web_app_open_scan_qr_popup",Cc="scan_qr_popup_closed",wc="qr_text_received",Us=A("qrScanner",ao),Gs=Us("close",()=>{u(Fs),K(io)}),zs=y(ao);function Ac(e){e||(e={});const{onCaptured:t,text:o,capture:r}=e,[,s]=l.createCbCollector(n.on(Cc,()=>{a.resolve()}),n.on(wc,i=>{t?t(i.data):(!r||r(i.data))&&(a.resolve(i.data),u(Fs))})),a=new b.ManualPromise(e);return(e.postEvent||u)(ao,{text:o}),b.AbortablePromise.resolve(a).catch(Et).finally(s)}const[$c,Pc,yc]=S(Ac,"The QR Scanner is already opened"),Ws=Us("open",$c),[,io,Qs]=Pc,[,Ks]=yc,Mc=Object.freeze(Object.defineProperty({__proto__:null,close:Gs,isOpened:Qs,isSupported:zs,open:Ws,openError:Ks,openPromise:io},Symbol.toStringTag,{value:"Module"}));function q(e){return p(()=>xe()[e])}const te=Q({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),xe=p(()=>{const e=te();return{...e,backgroundColor:e.backgroundColor||Oe()||"#000000",textColor:e.textColor||ye()||"#2481cc"}}),[ut,co]=d(!1),Ys=q("backgroundColor"),Xs=q("hasShineEffect"),Zs=q("isEnabled"),Js=q("isLoaderVisible"),ea=q("isVisible"),ta=q("position"),oa=q("text"),ra=q("textColor"),Ne="web_app_setup_secondary_button",na="secondary_button_pressed",He="secondaryButton",uo=A(He,Ne),vc=O(He,co,Ne),sa=y(Ne),aa=uo("mount",()=>{if(!ut()){const e=w.isPageReload()&&l.getStorageValue(He);e&&te.set(e),ut.set(!0)}}),ia=uo("onClick",e=>n.on(na,e)),ca=uo("offClick",e=>{n.off(na,e)}),ua=vc("setParams",e=>{te.set({...te(),...Rt(e)}),l.setStorageValue(He,te());const t=xe();t.text&&u(Ne,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});function la(){ut.set(!1)}const Tc=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:Ys,hasShineEffect:Xs,isEnabled:Zs,isLoaderVisible:Js,isMounted:co,isSupported:sa,isVisible:ea,mount:aa,offClick:ca,onClick:ia,position:ta,setParams:ua,state:xe,text:oa,textColor:ra,unmount:la},Symbol.toStringTag,{value:"Module"})),De="web_app_setup_settings_button",pa="settings_button_pressed",Le="settingsButton",[Ho,da]=d(!1),[be,ma]=d(!1),_a=y(De),lo=A(Le,De),fa=O(Le,be,De),ba=fa("hide",()=>{po(!1)}),ga=lo("mount",()=>{be()||(po(w.isPageReload()&&l.getStorageValue(Le)||!1),be.set(!0))});function po(e){e!==Ho()&&(u(De,{is_visible:e}),l.setStorageValue(Le,e),Ho.set(e))}const ha=lo("onClick",e=>n.on(pa,e)),Ea=lo("offClick",e=>{n.off(pa,e)}),Sa=fa("show",()=>{po(!0)});function Ca(){be.set(!1)}const Bc=Object.freeze(Object.defineProperty({__proto__:null,hide:ba,isMounted:ma,isSupported:_a,isVisible:da,mount:ga,offClick:Ea,onClick:ha,show:Sa,unmount:Ca},Symbol.toStringTag,{value:"Module"})),Fe="web_app_setup_swipe_behavior",Ue="swipeBehavior",[ae,wa]=d(!1),Aa=y(Fe),[lt,$a]=d(!0),Oc=A(Ue,Fe),Pa=O(Ue,ae,Fe),ya=Pa("disableVertical",()=>{mo(!1)}),Ma=Pa("enableVertical",()=>{mo(!0)}),va=Oc("mount",()=>{ae()||(mo(w.isPageReload()&&l.getStorageValue(Ue)||!1,!0),ae.set(!0))});function mo(e,t){(e!==lt()||t)&&(u(Fe,{allow_vertical_swipe:e}),l.setStorageValue(Ue,e),lt.set(e))}function Ta(){ae.set(!1)}const kc=Object.freeze(Object.defineProperty({__proto__:null,_isMounted:ae,_isVerticalEnabled:lt,disableVertical:ya,enableVertical:Ma,isMounted:wa,isSupported:Aa,isVerticalEnabled:$a,mount:va,unmount:Ta},Symbol.toStringTag,{value:"Module"})),F="viewport",_o="fullscreen_changed",fo="safe_area_changed",bo="content_safe_area_changed",go="viewport_changed",Ba=k(F),Do={left:0,top:0,bottom:0,right:0};function et(e){return Math.max(e,0)}const[tt,ho]=d({contentSafeAreaInsets:Do,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:Do,stableHeight:0,width:0});function U(e){return p(()=>ho()[e])}const Ge=U("height"),ze=U("stableHeight"),Eo=U("width"),Oa=U("isExpanded"),ka=p(()=>Ge()===ze());function Y(e){const{height:t,stableHeight:o,width:r}=e;tt.set({...tt(),...Rt({...e,height:t?et(t):void 0,width:r?et(r):void 0,stableHeight:o?et(o):void 0})}),l.setStorageValue(F,tt())}function qc(){return l.getStorageValue(F)}function We(e){return p(()=>Qe()[e])}const Qe=U("contentSafeAreaInsets"),So=We("bottom"),Co=We("left"),wo=We("right"),Ao=We("top");function Ke(e){return p(()=>Ye()[e])}const Ye=U("safeAreaInsets"),$o=Ke("bottom"),Po=Ke("left"),yo=Ke("right"),Mo=Ke("top"),qa="web_app_request_safe_area",Ia=A(F,qa),pt=Ia("requestContentSafeAreaInsets",e=>_("web_app_request_content_safe_area",bo,e));function Va(e){return _("web_app_request_viewport",go,e)}const dt=Ia("requestSafeAreaInsets",e=>_(qa,fo,e)),ja=e=>{const{height:t}=e;Y({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},Ra=e=>{Y({isFullscreen:e.is_fullscreen})},xa=e=>{Y({safeAreaInsets:e})},Na=e=>{Y({contentSafeAreaInsets:e})},[Ic,Vc,jc,Rc]=ce(F,e=>{const t=w.isPageReload()&&qc();return t?b.AbortablePromise.resolve(t):b.AbortablePromise.fn(async o=>{const r=await b.AbortablePromise.all([dt.isAvailable()?dt(o):Ye(),pt.isAvailable()?pt(o):Qe()]),s=ie(),a={contentSafeAreaInsets:r[1],isFullscreen:!!s.tgWebAppFullscreen,safeAreaInsets:r[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(s.tgWebAppPlatform)){const i=window;return{...a,height:i.innerHeight,isExpanded:!0,stableHeight:i.innerHeight,width:i.innerWidth}}return Va(o).then(i=>({...a,height:i.height,isExpanded:i.is_expanded,stableHeight:i.is_state_stable?i.height:0,width:i.width}))},e)},e=>{n.on(go,ja),n.on(_o,Ra),n.on(fo,xa),n.on(bo,Na),Y(e)}),Ha=Ba("mount",Ic),[,vo,Da]=Vc,[,La]=jc,[To,Fa]=Rc;function Ua(){K(vo),n.off(go,ja),n.off(_o,Ra),n.off(fo,xa),n.off(bo,Na),To.set(!1)}const xc=$e(F,To),[ot,Ga]=d(!1),za=xc("bindCssVars",e=>{if(ot())throw new ge;e||(e=o=>`--tg-viewport-${l.camelToKebab(o)}`);const t=[["height",Ge],["stableHeight",ze],["width",Eo],["safeAreaInsetTop",Mo],["safeAreaInsetBottom",$o],["safeAreaInsetLeft",Po],["safeAreaInsetRight",yo],["contentSafeAreaInsetTop",Ao],["contentSafeAreaInsetBottom",So],["contentSafeAreaInsetLeft",Co],["contentSafeAreaInsetRight",wo]].reduce((o,[r,s])=>{const a=e(r);if(a){const i=()=>{Ut(a,`${s()}px`)};o.push([i,s.sub(i),a])}return o},[]);return t.forEach(o=>{o[0]()}),ot.set(!0),()=>{t.forEach(o=>{o[1](),Gt(o[2])}),ot.set(!1)}}),Wa=Ba("expand",()=>{u("web_app_expand")}),Qa="web_app_request_fullscreen",Nc=O(F,To,Qa),Bo=U("isFullscreen"),[Hc,Ka]=d(),[Dc,Ya]=d();function Xa(e,t){return Nc(e,S(o=>_(t?Qa:"web_app_exit_fullscreen",[_o,"fullscreen_failed"],o).then(r=>{if("error"in r&&r.error!=="ALREADY_FULLSCREEN")throw new tr(r.error);const s="is_fullscreen"in r?r.is_fullscreen:!0;s!==Bo()&&Y({isFullscreen:s})}),"Fullscreen mode change is already being requested",{promise:Hc,error:Dc})[0])}const Za=Xa("requestFullscreen",!0),Ja=Xa("exitFullscreen"),Lc=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:za,changeFullscreenError:Ya,changeFullscreenPromise:Ka,contentSafeAreaInsetBottom:So,contentSafeAreaInsetLeft:Co,contentSafeAreaInsetRight:wo,contentSafeAreaInsetTop:Ao,contentSafeAreaInsets:Qe,exitFullscreen:Ja,expand:Wa,height:Ge,isCssVarsBound:Ga,isExpanded:Oa,isFullscreen:Bo,isMounted:Fa,isMounting:Da,isStable:ka,mount:Ha,mountError:La,mountPromise:vo,requestFullscreen:Za,safeAreaInsetBottom:$o,safeAreaInsetLeft:Po,safeAreaInsetRight:yo,safeAreaInsetTop:Mo,safeAreaInsets:Ye,stableHeight:ze,state:ho,unmount:Ua,width:Eo},Symbol.toStringTag,{value:"Module"})),ei="web_app_request_emoji_status_access",[Fc,Uc,Gc]=S(e=>_(ei,"emoji_status_access_requested",e).then(t=>t.status),"Emoji status access request is already in progress"),zc=m("requestEmojiStatusAccess",Fc,{isSupported:ei}),[,Wc,Qc]=Uc,[,Kc]=Gc,ti="web_app_set_emoji_status",[Yc,Xc,Zc]=S((e,t)=>_(ti,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(o=>{if(o&&"error"in o)throw new er(o.error)}),"Emoji status set request is currently in progress"),Jc=m("setEmojiStatus",Yc,{isSupported:ti}),[,eu,tu]=Xc,[,ou]=Zc,ru={isSupported:"web_app_add_to_home_screen"},oi="home_screen_failed",nu=m("onAddToHomeScreenFailed",(e,t)=>n.on(oi,e,t),{isSupported:"web_app_add_to_home_screen"}),su=m("offAddToHomeScreenFailed",e=>{n.off(oi,e)},ru),ri={isSupported:"web_app_add_to_home_screen"},ni="home_screen_added",au=m("onAddedToHomeScreen",(e,t)=>n.on(ni,e,t),ri),iu=m("offAddedToHomeScreen",e=>{n.off(ni,e)},ri),Lo="web_app_add_to_home_screen",cu=m("addToHomeScreen",()=>{u(Lo)},{isSupported:Lo}),si="web_app_check_home_screen",[uu,lu,pu]=S(e=>_(si,"home_screen_checked",e).then(t=>t.status||"unknown"),"Check home screen status request is currently in progress"),du=m("checkHomeScreenStatus",uu,{isSupported:si}),[,mu,_u]=lu,[,fu]=pu,bu=k(),gu=bu("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(o){throw new $(`"${e.toString()}" is invalid URL`,o)}t||(t={}),u("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),Fo="web_app_open_tg_link",hu=k(),ai=hu("openTelegramLink",e=>{const t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new $(`"${t}" is invalid URL`);if(!n.supports(Fo,B())){window.location.href=t;return}e=new URL(e),u(Fo,{path_full:e.pathname+e.search})}),Eu=k(),Su=Eu("shareURL",(e,t)=>{ai("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});function Cu(e,t){return new b.AbortablePromise({abortSignal:t,timeout:e}).catch(()=>{})}const ii="web_app_request_phone",[wu,Au,$u]=S(e=>_(ii,"phone_requested",e).then(t=>t.status),"Phone access request is currently in progress"),ci=m("requestPhoneAccess",wu,{isSupported:ii}),[,Pu,yu]=Au,[,Mu]=$u,ui={isSupported:"web_app_request_phone"};async function Uo(e){const t=c.parse(c.string(),await N("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3}));return{raw:t,parsed:c.parse(c.pipe(c.union([c.string(),c.instance(URLSearchParams)]),g.transformQueryUsing(c.looseObject({contact:c.pipe(c.string(),g.jsonParse(),c.looseObject({user_id:c.number(),phone_number:c.string(),first_name:c.string(),last_name:c.optional(c.string())})),auth_date:c.pipe(c.string(),c.transform(o=>new Date(Number(o)*1e3)),c.date()),hash:c.string()}))),t)}}const[vu,Tu,Bu]=S(e=>new b.AbortablePromise(async(t,o,r)=>{try{return t(await Uo(r))}catch(i){if(i instanceof c.ValiError)throw i}if(await ci(r)!=="sent")throw new ft("User denied access");let a=50;for(;!r.isAborted();){try{return t(await Uo(r))}catch(i){if(i instanceof c.ValiError)throw i}await Cu(a),a+=50}},e),"Contact is already being requested"),li=m("requestContactComplete",vu,ui),Ou=m("requestContact",e=>li(e).then(t=>t.parsed),ui),[,ku,qu]=Tu,[,Iu]=Bu,pi="web_app_request_write_access",[Vu,ju,Ru]=S(e=>_(pi,"write_access_requested",e).then(t=>t.status),"Write access request is currently in progress"),xu=m("requestWriteAccess",Vu,{isSupported:pi}),[,Nu,Hu]=ju,[,Du]=Ru;function Lu(e){const t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}async function Fu(e){try{const{clipboard:t}=navigator;if(t)return await t.writeText(e)}catch{}Lu(e)}const Go="web_app_request_file_download",Uu=m("downloadFile",(e,t,o)=>_(Go,"file_download_requested",{...o,params:{url:e,file_name:t}}).then(r=>{if(r.status!=="downloading")throw new ft("User denied the action")}),{isSupported:Go}),Gu=m("getCurrentTime",e=>N("getCurrentTime",{},e).then(t=>c.parse(c.pipe(c.number(),c.integer(),c.transform(o=>new Date(o*1e3)),c.date()),t)),{isSupported:"web_app_invoke_custom_method"}),zo="web_app_read_text_from_clipboard",zu=m("readTextFromClipboard",e=>{const t=mt();return _(zo,"clipboard_text_received",{...e,params:{req_id:t},capture:n.captureSameReq(t)}).then(({data:o=null})=>o)},{isSupported:zo}),Wo="web_app_data_send",Wu=m("sendData",e=>{const{size:t}=new Blob([e]);if(!t||t>4096)throw new $(t?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data");u(Wo,{data:e})},{isSupported:Wo}),Qo="web_app_send_prepared_message",Qu=m("shareMessage",(e,t)=>_(Qo,["prepared_message_failed","prepared_message_sent"],{...t,params:{id:e}}).then(o=>{if(o&&"error"in o)throw new or(o.error)}),{isSupported:Qo}),Ko="web_app_share_to_story",Ku=m("shareStory",(e,t)=>{t||(t={}),u(Ko,{text:t.text,media_url:e,widget_link:t.widgetLink})},{isSupported:Ko}),Yu="web_app_switch_inline_query",Xu=m("switchInlineQuery",(e,t)=>{u(Yu,{query:e,chat_types:t||[]})},{isSupported(){return ie().tgWebAppBotInline?void 0:"The application must be launched in the inline mode"}});function Zu(e){try{return[!0,e()]}catch(t){return[!1,t]}}function Ju(e){Zo(e);const[t,o]=l.createCbCollector(n.on("reload_iframe",()=>{rt(!1,"Received a request to reload the page"),u("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){const s=document.createElement("style");s.id="telegram-custom-styles",document.head.appendChild(s),t(n.on("set_custom_style",a=>{s.innerHTML=a}),()=>{document.head.removeChild(s)})}return u("iframe_ready",{reload_supported:!0}),rt(!1,"The package was initialized"),o}Object.defineProperty(exports,"AbortablePromise",{enumerable:!0,get:()=>n.AbortablePromise});Object.defineProperty(exports,"CancelledError",{enumerable:!0,get:()=>n.CancelledError});Object.defineProperty(exports,"InvalidLaunchParamsError",{enumerable:!0,get:()=>n.InvalidLaunchParamsError});Object.defineProperty(exports,"InvokeCustomMethodError",{enumerable:!0,get:()=>n.InvokeCustomMethodError});Object.defineProperty(exports,"LaunchParamsRetrieveError",{enumerable:!0,get:()=>n.LaunchParamsRetrieveError});Object.defineProperty(exports,"ManualPromise",{enumerable:!0,get:()=>n.ManualPromise});Object.defineProperty(exports,"MethodParameterUnsupportedError",{enumerable:!0,get:()=>n.MethodParameterUnsupportedError});Object.defineProperty(exports,"MethodUnsupportedError",{enumerable:!0,get:()=>n.MethodUnsupportedError});Object.defineProperty(exports,"TimeoutError",{enumerable:!0,get:()=>n.TimeoutError});Object.defineProperty(exports,"UnknownEnvError",{enumerable:!0,get:()=>n.UnknownEnvError});Object.defineProperty(exports,"createPostEvent",{enumerable:!0,get:()=>n.createPostEvent});Object.defineProperty(exports,"emitEvent",{enumerable:!0,get:()=>n.emitEvent});Object.defineProperty(exports,"isCancelledError",{enumerable:!0,get:()=>n.isCancelledError});Object.defineProperty(exports,"isInvalidLaunchParamsError",{enumerable:!0,get:()=>n.isInvalidLaunchParamsError});Object.defineProperty(exports,"isInvokeCustomMethodError",{enumerable:!0,get:()=>n.isInvokeCustomMethodError});Object.defineProperty(exports,"isLaunchParamsRetrieveError",{enumerable:!0,get:()=>n.isLaunchParamsRetrieveError});Object.defineProperty(exports,"isMethodMethodParameterUnsupportedError",{enumerable:!0,get:()=>n.isMethodMethodParameterUnsupportedError});Object.defineProperty(exports,"isMethodUnsupportedError",{enumerable:!0,get:()=>n.isMethodUnsupportedError});Object.defineProperty(exports,"isTMA",{enumerable:!0,get:()=>n.isTMA});Object.defineProperty(exports,"isTimeoutError",{enumerable:!0,get:()=>n.isTimeoutError});Object.defineProperty(exports,"isUnknownEnvError",{enumerable:!0,get:()=>n.isUnknownEnvError});Object.defineProperty(exports,"mockTelegramEnv",{enumerable:!0,get:()=>n.mockTelegramEnv});Object.defineProperty(exports,"off",{enumerable:!0,get:()=>n.off});Object.defineProperty(exports,"on",{enumerable:!0,get:()=>n.on});Object.defineProperty(exports,"postMessage",{enumerable:!0,get:()=>n.postMessage});Object.defineProperty(exports,"postMessageImplementation",{enumerable:!0,get:()=>n.postMessageImplementation});Object.defineProperty(exports,"retrieveLaunchParams",{enumerable:!0,get:()=>n.retrieveLaunchParams});Object.defineProperty(exports,"retrieveRawInitData",{enumerable:!0,get:()=>n.retrieveRawInitData});Object.defineProperty(exports,"retrieveRawLaunchParams",{enumerable:!0,get:()=>n.retrieveRawLaunchParams});Object.defineProperty(exports,"supports",{enumerable:!0,get:()=>n.supports});Object.defineProperty(exports,"targetOrigin",{enumerable:!0,get:()=>n.targetOrigin});Object.defineProperty(exports,"isRGB",{enumerable:!0,get:()=>g.isRGB});Object.defineProperty(exports,"isRGBShort",{enumerable:!0,get:()=>g.isRGBShort});Object.defineProperty(exports,"parseInitDataQuery",{enumerable:!0,get:()=>g.parseInitDataQuery});Object.defineProperty(exports,"parseLaunchParamsQuery",{enumerable:!0,get:()=>g.parseLaunchParamsQuery});Object.defineProperty(exports,"serializeInitDataQuery",{enumerable:!0,get:()=>g.serializeInitDataQuery});Object.defineProperty(exports,"serializeLaunchParamsQuery",{enumerable:!0,get:()=>g.serializeLaunchParamsQuery});Object.defineProperty(exports,"serializeToQuery",{enumerable:!0,get:()=>g.serializeToQuery});Object.defineProperty(exports,"toRGB",{enumerable:!0,get:()=>g.toRGB});Object.defineProperty(exports,"transformQueryUsing",{enumerable:!0,get:()=>g.transformQueryUsing});exports.AccessDeniedError=ft;exports.CSSVarsBoundError=ge;exports.ConcurrentCallError=Jo;exports.FullscreenFailedError=tr;exports.FunctionUnavailableError=z;exports.InvalidArgumentsError=$;exports.InvalidEnvError=gi;exports.NotAvailableError=_t;exports.SetEmojiStatusError=er;exports.ShareMessageError=or;exports.UnknownThemeParamsKeyError=he;exports.addToHomeScreen=cu;exports.authenticateBiometry=yr;exports.backButton=Mi;exports.bindMiniAppCssVars=ws;exports.bindThemeParamsCssVars=ss;exports.bindViewportCssVars=za;exports.biometry=xi;exports.biometryAuthError=vr;exports.biometryAuthPromise=$t;exports.biometryMountError=$r;exports.biometryState=_r;exports.changeFullscreenError=Ya;exports.changeFullscreenPromise=Ka;exports.checkHomeScreenStatus=du;exports.checkHomeScreenStatusError=fu;exports.checkHomeScreenStatusPromise=mu;exports.closeMiniApp=As;exports.closeQrScanner=Gs;exports.closingBehavior=Hi;exports.cloudStorage=Fi;exports.configure=Zo;exports.copyTextToClipboard=Fu;exports.createRequestId=mt;exports.deleteCloudStorageItem=vt;exports.disableClosingConfirmation=Rr;exports.disableVerticalSwipes=ya;exports.downloadFile=Uu;exports.enableClosingConfirmation=xr;exports.enableVerticalSwipes=Ma;exports.exitFullscreen=Ja;exports.expandViewport=Wa;exports.getCloudStorageItem=Fr;exports.getCloudStorageKeys=Tt;exports.getCurrentTime=Gu;exports.hapticFeedback=Ui;exports.hapticFeedbackImpactOccurred=zr;exports.hapticFeedbackNotificationOccurred=Wr;exports.hapticFeedbackSelectionChanged=Qr;exports.hideBackButton=cr;exports.hideSettingsButton=ba;exports.ignoreCanceled=Et;exports.init=Ju;exports.initData=zi;exports.initDataAuthDate=Ot;exports.initDataCanSendAfter=kt;exports.initDataCanSendAfterDate=Xr;exports.initDataChat=Zr;exports.initDataChatInstance=en;exports.initDataChatType=Jr;exports.initDataHash=tn;exports.initDataQueryId=on;exports.initDataRaw=rn;exports.initDataReceiver=nn;exports.initDataStartParam=an;exports.initDataState=Yr;exports.initDataUser=cn;exports.invoice=Zi;exports.invokeCustomMethod=N;exports.isAccessDeniedError=Ai;exports.isAuthenticatingBiometry=Mr;exports.isBackButtonMounted=sr;exports.isBackButtonSupported=ar;exports.isBackButtonVisible=nr;exports.isBiometryAvailable=fr;exports.isBiometryMounted=Pr;exports.isBiometryMounting=Ar;exports.isBiometrySupported=Er;exports.isCSSVarsBoundError=fi;exports.isCheckingHomeScreenStatus=_u;exports.isClosingBehaviorMounted=yt;exports.isClosingConfirmationEnabled=Vr;exports.isCloudStorageSupported=Lr;exports.isColorDark=xt;exports.isConcurrentCallError=Ci;exports.isFullscreen=Bo;exports.isFullscreenFailedError=$i;exports.isFunctionNotAvailableError=Ei;exports.isHapticFeedbackSupported=Gr;exports.isInvalidArguments=Si;exports.isInvalidEnvError=hi;exports.isInvoiceOpened=dn;exports.isInvoiceSupported=un;exports.isLocationManagerAccessGranted=bn;exports.isLocationManagerAccessRequested=gn;exports.isLocationManagerAvailable=fn;exports.isLocationManagerMounted=$n;exports.isLocationManagerMounting=wn;exports.isLocationManagerSupported=_n;exports.isMainButtonEnabled=Gn;exports.isMainButtonLoaderVisible=zn;exports.isMainButtonMounted=Lt;exports.isMainButtonVisible=Wn;exports.isMiniAppActive=bs;exports.isMiniAppCssVarsBound=_s;exports.isMiniAppDark=fs;exports.isMiniAppMounted=Ms;exports.isMiniAppMounting=Ps;exports.isMiniAppSupported=gs;exports.isNotAvailableError=bi;exports.isPopupOpened=Rs;exports.isPopupShown=Ds;exports.isPopupSupported=ks;exports.isQrScannerOpened=Qs;exports.isQrScannerSupported=zs;exports.isRequestingBiometryAccess=Or;exports.isRequestingContact=qu;exports.isRequestingEmojiStatusAccess=Qc;exports.isRequestingLocation=yn;exports.isRequestingPhoneAccess=yu;exports.isRequestingWriteAccess=Hu;exports.isSSR=nt;exports.isSecondaryButtonEnabled=Zs;exports.isSecondaryButtonLoaderVisible=Js;exports.isSecondaryButtonMounted=co;exports.isSecondaryButtonSupported=sa;exports.isSecondaryButtonVisible=ea;exports.isSetEmojiStatusError=wi;exports.isSettingEmojiStatus=tu;exports.isSettingsButtonMounted=ma;exports.isSettingsButtonSupported=_a;exports.isSettingsButtonVisible=da;exports.isShareMessageError=Pi;exports.isSwipeBehaviorMounted=wa;exports.isSwipeBehaviorSupported=Aa;exports.isThemeParamsCssVarsBound=Bn;exports.isThemeParamsDark=jn;exports.isThemeParamsMounted=cs;exports.isThemeParamsMounting=as;exports.isUnknownThemeParamsKeyError=yi;exports.isVerticalSwipesEnabled=$a;exports.isViewportCssVarsBound=Ga;exports.isViewportExpanded=Oa;exports.isViewportMounted=Fa;exports.isViewportMounting=Da;exports.isViewportStable=ka;exports.locationManager=cc;exports.locationManagerMountError=An;exports.locationManagerMountPromise=Cn;exports.mainButton=pc;exports.mainButtonBackgroundColor=Fn;exports.mainButtonHasShineEffect=Un;exports.mainButtonState=Me;exports.mainButtonText=Qn;exports.mainButtonTextColor=Kn;exports.miniApp=hc;exports.miniAppBackgroundColor=ps;exports.miniAppBackgroundColorRGB=Be;exports.miniAppBottomBarColor=ds;exports.miniAppBottomBarColorRGB=Oe;exports.miniAppHeaderColor=ms;exports.miniAppHeaderColorRGB=Xt;exports.miniAppMountError=ys;exports.miniAppMountPromise=ro;exports.miniAppReady=Ts;exports.miniAppState=Zt;exports.mountBackButton=ur;exports.mountBiometry=wr;exports.mountBiometryPromise=At;exports.mountClosingBehavior=Nr;exports.mountLocationManager=Sn;exports.mountMainButton=Xn;exports.mountMiniApp=$s;exports.mountMiniAppSync=vs;exports.mountSecondaryButton=aa;exports.mountSettingsButton=ga;exports.mountSwipeBehavior=va;exports.mountThemeParams=Qt;exports.mountThemeParamsSync=Yt;exports.mountViewport=Ha;exports.offAddToHomeScreenFailed=su;exports.offAddedToHomeScreen=iu;exports.offBackButtonClick=pr;exports.offMainButtonClick=Jn;exports.offSecondaryButtonClick=ca;exports.offSettingsButtonClick=Ea;exports.onAddToHomeScreenFailed=nu;exports.onAddedToHomeScreen=au;exports.onBackButtonClick=lr;exports.onMainButtonClick=Zn;exports.onSecondaryButtonClick=ia;exports.onSettingsButtonClick=ha;exports.openBiometrySettings=Tr;exports.openInvoice=ln;exports.openInvoiceError=mn;exports.openInvoicePromise=pn;exports.openLink=gu;exports.openLocationManagerSettings=vn;exports.openPopup=Vs;exports.openPopupError=xs;exports.openPopupPromise=js;exports.openQrScanner=Ws;exports.openQrScannerError=Ks;exports.openQrScannerPromise=io;exports.openTelegramLink=ai;exports.popup=Sc;exports.postEvent=u;exports.qrScanner=Mc;exports.readTextFromClipboard=zu;exports.request=_;exports.requestBiometry=br;exports.requestBiometryAccess=Br;exports.requestBiometryAccessError=kr;exports.requestBiometryAccessPromise=Pt;exports.requestContact=Ou;exports.requestContactComplete=li;exports.requestContactError=Iu;exports.requestContactPromise=ku;exports.requestContentSafeAreaInsets=pt;exports.requestEmojiStatusAccess=zc;exports.requestEmojiStatusAccessError=Kc;exports.requestEmojiStatusAccessPromise=Wc;exports.requestFullscreen=Za;exports.requestLocation=Pn;exports.requestLocationError=Mn;exports.requestLocationPromise=jt;exports.requestPhoneAccess=ci;exports.requestPhoneAccessError=Mu;exports.requestPhoneAccessPromise=Pu;exports.requestSafeAreaInsets=dt;exports.requestViewport=Va;exports.requestWriteAccess=xu;exports.requestWriteAccessError=Du;exports.requestWriteAccessPromise=Nu;exports.restoreInitData=sn;exports.safeCall=Zu;exports.secondaryButton=Tc;exports.secondaryButtonBackgroundColor=Ys;exports.secondaryButtonHasShineEffect=Xs;exports.secondaryButtonPosition=ta;exports.secondaryButtonState=xe;exports.secondaryButtonText=oa;exports.secondaryButtonTextColor=ra;exports.sendData=Wu;exports.setCloudStorageItem=Ur;exports.setDebug=_i;exports.setEmojiStatus=Jc;exports.setEmojiStatusError=ou;exports.setEmojiStatusPromise=eu;exports.setMainButtonParams=es;exports.setMiniAppBackgroundColor=Ve;exports.setMiniAppBottomBarColor=je;exports.setMiniAppHeaderColor=Re;exports.setSecondaryButtonParams=ua;exports.settingsButton=Bc;exports.shareMessage=Qu;exports.shareStory=Ku;exports.shareURL=Su;exports.showBackButton=dr;exports.showPopup=Ns;exports.showPopupError=Ls;exports.showPopupPromise=Hs;exports.showSettingsButton=Sa;exports.swipeBehavior=kc;exports.switchInlineQuery=Xu;exports.themeParams=fc;exports.themeParamsAccentTextColor=On;exports.themeParamsBackgroundColor=Nt;exports.themeParamsBottomBarBgColor=kn;exports.themeParamsButtonColor=ye;exports.themeParamsButtonTextColor=Ht;exports.themeParamsDestructiveTextColor=qn;exports.themeParamsHeaderBackgroundColor=In;exports.themeParamsHintColor=Vn;exports.themeParamsLinkColor=Rn;exports.themeParamsMountError=is;exports.themeParamsMountPromise=Kt;exports.themeParamsSecondaryBackgroundColor=Dt;exports.themeParamsSectionBackgroundColor=xn;exports.themeParamsSectionHeaderTextColor=Nn;exports.themeParamsSectionSeparatorColor=Hn;exports.themeParamsState=D;exports.themeParamsSubtitleTextColor=Dn;exports.themeParamsTextColor=Ln;exports.unmountBackButton=mr;exports.unmountBiometry=qr;exports.unmountClosingBehavior=Hr;exports.unmountLocationManager=Tn;exports.unmountMainButton=ts;exports.unmountMiniApp=Bs;exports.unmountSecondaryButton=la;exports.unmountSettingsButton=Ca;exports.unmountSwipeBehavior=Ta;exports.unmountThemeParams=us;exports.unmountViewport=Ua;exports.updateBiometryToken=Ir;exports.viewport=Lc;exports.viewportContentSafeAreaInsetBottom=So;exports.viewportContentSafeAreaInsetLeft=Co;exports.viewportContentSafeAreaInsetRight=wo;exports.viewportContentSafeAreaInsetTop=Ao;exports.viewportContentSafeAreaInsets=Qe;exports.viewportHeight=Ge;exports.viewportMountError=La;exports.viewportMountPromise=vo;exports.viewportSafeAreaInsetBottom=$o;exports.viewportSafeAreaInsetLeft=Po;exports.viewportSafeAreaInsetRight=yo;exports.viewportSafeAreaInsetTop=Mo;exports.viewportSafeAreaInsets=Ye;exports.viewportStableHeight=ze;exports.viewportState=ho;exports.viewportWidth=Eo;exports.wrapSafe=m;
//# sourceMappingURL=index.cjs.map
